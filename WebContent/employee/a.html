<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AJAX获取employee信息(返回JSON)</title>
<link href="css/bootstrap.min.css" rel="stylesheet">
<script>
var req;
function getEmployee()
{
	var url = "../GetAllEmployee";
    if (window.XMLHttpRequest)
    {
        req = new XMLHttpRequest();
    }
    else if (window.ActiveXObject)
    {
        req = new ActiveXObject("Microsoft.XMLHTTP");
    }
	
	if (req) 
	{
		//采用POST方式，异步传输
		req.open("post", url, true);
		//POST方式，必须加入如下头信息设定
		req.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
		req.onreadystatechange = complete;
		req.send();
	}
}
//回调函数
function complete() 
{
	
	if (req.readyState == 4 && req.status == 200)
	{
		//给返回的json串加上圆括号，转变成json对象:说明eval函数
		var json =  eval("(" + req.responseText + ")");
	
		
		document.getElementById("emp_id").innerText="编号:" + json[0].emp_id;
		document.getElementById("emp_name").innerText="名字:" + json[0].emp_name;
		document.getElementById("emp_email").innerText="emp_email:" + json[0].emp_email;
		document.getElementById("emp_no").innerText="账号:" + json[0].emp_no;
		document.getElementById("emp_tel_num").innerText="电话:" + json[0].emp_tel_num;
		document.getElementById("emp_addr").innerText="简介:" + json[0].emp_addr;
	}
}
</script>
</head>
<body onload="getEmployee()">
	<div class="col-md-8">
		<label style="font-size:25px;color:red">AJAX获取studio信息(返回JSON)</label><br>
		<label style="font-size:25px" id="emp_id"></label><br>
		<label style="font-size:25px" id="emp_name"></label><br>
		<label style="font-size:25px" id="emp_email"></label><br>
		<label style="font-size:25px" id="emp_no"></label><br>
		<label style="font-size:25px" id="emp_tel_num"></label><br>
		<label style="font-size:25px" id="emp_addr"></label><br>
		<input type="button" onclick="getEmployee()" value="获取">
	</div>
</body>
</html>